<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
    body{

        background-color: rgb(92, 86, 86);
    }
    div{
        text-align: center;
        margin: 10px;
    }
    #CDImage img{
        border-radius: 50%;
    }
    .box{
        width: 350px;
        height: 500px;
        margin: 10px auto;
        background-color: blanchedalmond;
    }
    button{
        background: transparent;
        border: 0; 
    }

    </style>
    <title>音乐播放器设计与实现</title>
</head>
<body>
    <div class="box">
        <h3>简单音乐播放器</h3>
        <hr/>
        <audio id="audio" src="" preload>
        浏览器不支持
        </audio>
        <div id="CDImage">
            <img src="./image/sky.jpg" alt="">
        </div>
        <!-- 音量调节 -->
        <div>
            <input id="volume" type="range" min="0" max="10" step="1" onchange="setVolume()"/>
        </div>
        <!-- 歌曲名字 -->
        <div>
            当前正在播放：<span id="title">night running</span>
        </div>
        <!-- 播放控制 -->
        <div>
            <button onclick="lastMusic()"><img src="./image/previous.png" width="50px"></button>
            <button id="toggleBtn" onclick="toggleMusic()"><img src="./image/play.png" width="50px"></button>
            <button onclick="nextMusic()"><img src="./image/next.png" width="50px"></button>
        </div>
        <script>
            var music = document.getElementById("audio");
            var volume = document.getElementById("volume ");
            var toggleBtn=document.getElementById("toggleBtn");
            var list = new Array("night.mp3","music/EndlessHorizon.mp3","music/月光下的云海.mp3");
            var titleList = new Array("nightrunning","无垠地平线","月光下的海");
            var i=0;
            function setVolume()
            {
                music.volume=volume.value;
            }
            function toggleMusic()
            {
                if(music.paused)
                {
                    music.play();
                    toggleBtn.innerHTML='<img src="./image/pause.png" width="50px">';
                }
                else
                {
                    music.pause();
                    toggleBtn.innerHTML='<img src="./image/play.png" width="50px">';
                }
                 
            }
            function nextMusic(){
                if(i==list.length-1)
                    i=0;
                else
                    i++;
                music.pause();
                music.src=list[i];
                title.innerHTML=titleList[i];
                music.play();
                toggleBtn.innerHTML='<img src="./image/pause.png" width="50px">';
            }
            function lastMusic(){
                if(i==0)
                    i=list.length-1;
                else
                    i--;
                music.pause();
                music.src=list[i];
                title.innerHTML=titleList[i];
                music.play();
                toggleBtn.innerHTML='<img src="./image/pause.png" width="50px">';
            }
        </script>
    </div>
</body>
</html>
